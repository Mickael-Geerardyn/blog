{% extends '/base.html.twig' %}

{% block body %}
    <!-- Portfolio Grid Section -->
    <section id="portfolio">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>{{ (latestPosts is not empty) ? "Portfolio" : "Rédiger ou modifier un article" }}</h2>
                    <hr class="star-primary">
                </div>
            </div>
            {% if latestPosts is not empty %}
            <div class="row">
                {% for post in latestPosts %}
                <div class="col-sm-4 portfolio-item">
                    <a href="#portfolioModal{{ post.getId() }}"
                       class="portfolio-link"
                       data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-search-plus fa-3x"></i>
                            </div>
                        </div>
                        <img src="{{ _SERVER["BASE_URI"] }}assets/img/portfolio/cabin.png"
                             class="img-responsive" alt="">
                    </a>
                </div>
                {% endfor %}
            </div>
            {% else %}
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                    <!-- To configure the contact form email address, go to mail/contact_me.php and update the email address in the PHP file on line 19. -->
                    <!-- The form should work on most web servers, but if the form is not working you may need to configure your web server differently. -->
                    <form name="sentMessage" method="post" action="{{ _SERVER['BASE_URI']}}index.php?action={{
                    (postObject is empty)?'send-new-post':'send-update-post' }}" novalidate>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Titre</label>
                                <input type="text" class="form-control"
                                       placeholder="Titre" id="title" name="title" value="{{ (postObject is not
                                empty) ? postObject.getTitle() : "" }}" required>
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Chapô</label>
                                <input type="text" class="form-control"
                                       placeholder="Chapô" id="heading" name="heading"
                                       required value="{{ (postObject is not empty) ? postObject.getHeading() : "" }}"
                                       >
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Contenu</label>
                                <textarea rows="5" class="form-control"
                                          placeholder="Contenu de l'article" id="content" name="content"
                                          required
                                          >{{ (postObject is not empty) ? postObject.getContent() : "" }}</textarea>
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <br>
                        <div id="success"></div>
                        <div class="row">
                            <div class="form-group col-xs-12">
                                <button type="submit"
                                        class="btn btn-success btn-lg">Envoyer
                                </button>
                            </div>
                        </div>
                        <input type="hidden" id="CSRFToken" name="CSRFToken" value="{{ CSRFToken }}">
                       {% if postObject is not empty %}
                           <input type="hidden" id="postId" name="postId" value="{{ postObject.getId() }}">
                        {% endif %}
                    </form>
                </div>
            </div>
            {% endif %}
        </div>
    </section>

    <!-- About Section -->
    <section class="success" id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>A propos</h2>
                    <hr class="star-light">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4 col-lg-offset-2">
                    <p>Freelancer is a free bootstrap theme created by Start
                        Bootstrap. The download includes the complete source
                        files including HTML, CSS, and JavaScript as well as
                        optional LESS stylesheets for easy customization.</p>
                </div>
                <div class="col-lg-4">
                    <p>Whether you're a student looking to showcase your work, a
                        professional looking to attract clients, or a graphic
                        artist looking to share your projects, this template is
                        the perfect starting point!</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Me contacter</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <!-- To configure the contact form email address, go to mail/contact_me.php and update the email address in the PHP file on line 19. -->
                    <!-- The form should work on most web servers, but if the form is not working you may need to configure your web server differently. -->
                    <form name="sentMessage" id="formContact" method="post" action="{{ _SERVER["BASE_URI"] }}index.php?action=send-message" novalidate>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Nom</label>
                                <input type="text" class="form-control"
                                       placeholder="Nom" id="name" name="name" required
                                       data-validation-required-message="Please enter your name.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Courriel</label>
                                <input type="email" class="form-control"
                                       placeholder="Email" id="email" name="email"
                                       required
                                       data-validation-required-message="Please enter your email address.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Numéro de téléphone</label>
                                <input type="tel" class="form-control"
                                       placeholder="Numéro de téléphone" id="phone" name="phone"
                                       data-validation-required-message="Please enter your phone number.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Message</label>
                                <textarea rows="5" class="form-control"
                                          placeholder="Message" id="message" name="message"
                                          required
                                          data-validation-required-message="Please enter a message."></textarea>
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <br>
                        <div id="success"></div>
                        <div class="row">
                            <div class="form-group col-xs-12">
                                <button type="submit"
                                        class="btn btn-success btn-lg">Envoyer
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
{% endblock %}


